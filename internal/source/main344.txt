void SUB_ADDTOHISTORY(qbs*_SUB_ADDTOHISTORY_STRING_WHICH,qbs*_SUB_ADDTOHISTORY_STRING_ENTRY){
qbs *tqbs;
ptrszint tmp_long;
int32 tmp_fileno;
uint32 qbs_tmp_base=qbs_tmp_list_nexti;
uint8 *tmp_mem_static_pointer=mem_static_pointer;
uint32 tmp_cmem_sp=cmem_sp;
#include "data344.txt"
mem_lock *sf_mem_lock;
new_mem_lock();
sf_mem_lock=mem_lock_tmp;
sf_mem_lock->type=3;
if (is_error_pending()) goto exit_subfunc;
S_59617:;
if(qbevent){evnt(24235,19369,"ide_methods.bas");if(r)goto S_59617;}
S_59618:;
if ((qbs_cleanup(qbs_tmp_base,qbs_equal(_SUB_ADDTOHISTORY_STRING_WHICH,qbs_new_txt_len("RECENT",6))))||is_error_pending()){
if(qbevent){evnt(24235,19370,"ide_methods.bas");if(r)goto S_59618;}
do{
qbs_set(_SUB_ADDTOHISTORY_STRING_E,FUNC_REMOVEDOUBLESLASHES(_SUB_ADDTOHISTORY_STRING_ENTRY));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19371,"ide_methods.bas");}while(r);
do{
*_SUB_ADDTOHISTORY_INTEGER_BH=FUNC_FILETOBUF(__STRING_RECENTFILE);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19372,"ide_methods.bas");}while(r);
do{
*_SUB_ADDTOHISTORY_INTEGER_MX=*__LONG_IDEMAXRECENT;
if(!qbevent)break;evnt(24235,19373,"ide_methods.bas");}while(r);
do{
return_point[next_return_point++]=189;
if (next_return_point>=return_points) more_return_points();
goto LABEL_ATHPROCESS;
RETURN_189:;
if(!qbevent)break;evnt(24235,19373,"ide_methods.bas");}while(r);
do{
SUB_BUFTOFILE(_SUB_ADDTOHISTORY_INTEGER_BH,__STRING_RECENTFILE);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19374,"ide_methods.bas");}while(r);
sc_ec_428_end:;
goto sc_6656_end;
}
S_59624:;
if ((qbs_cleanup(qbs_tmp_base,qbs_equal(_SUB_ADDTOHISTORY_STRING_WHICH,qbs_new_txt_len("SEARCH",6))))||is_error_pending()){
if(qbevent){evnt(24235,19375,"ide_methods.bas");if(r)goto S_59624;}
do{
qbs_set(_SUB_ADDTOHISTORY_STRING_E,_SUB_ADDTOHISTORY_STRING_ENTRY);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19376,"ide_methods.bas");}while(r);
do{
*_SUB_ADDTOHISTORY_INTEGER_BH=FUNC_FILETOBUF(__STRING_SEARCHEDFILE);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19377,"ide_methods.bas");}while(r);
do{
*_SUB_ADDTOHISTORY_INTEGER_MX=*__LONG_IDEMAXSEARCH;
if(!qbevent)break;evnt(24235,19378,"ide_methods.bas");}while(r);
do{
return_point[next_return_point++]=190;
if (next_return_point>=return_points) more_return_points();
goto LABEL_ATHPROCESS;
RETURN_190:;
if(!qbevent)break;evnt(24235,19378,"ide_methods.bas");}while(r);
do{
SUB_BUFTOFILE(_SUB_ADDTOHISTORY_INTEGER_BH,__STRING_SEARCHEDFILE);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19379,"ide_methods.bas");}while(r);
sc_ec_429_end:;
goto sc_6656_end;
}
sc_6656_end:;
do{
SUB_DISPOSEBUF(_SUB_ADDTOHISTORY_INTEGER_BH);
if(!qbevent)break;evnt(24235,19381,"ide_methods.bas");}while(r);
do{
goto exit_subfunc;
if(!qbevent)break;evnt(24235,19382,"ide_methods.bas");}while(r);
LABEL_ATHPROCESS:;
if(qbevent){evnt(24235,19384,"ide_methods.bas");r=0;}
do{
*_SUB_ADDTOHISTORY_INTEGER_LC= 0 ;
if(!qbevent)break;evnt(24235,19385,"ide_methods.bas");}while(r);
do{
qbs_set(_SUB_ADDTOHISTORY_STRING_UE,qbs_ucase(_SUB_ADDTOHISTORY_STRING_E));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19385,"ide_methods.bas");}while(r);
S_59635:;
while((~(FUNC_ENDOFBUF(_SUB_ADDTOHISTORY_INTEGER_BH)))||is_error_pending()){
if(qbevent){evnt(24235,19386,"ide_methods.bas");if(r)goto S_59635;}
do{
*_SUB_ADDTOHISTORY_LONG_BP=FUNC_GETBUFPOS(_SUB_ADDTOHISTORY_INTEGER_BH);
if(!qbevent)break;evnt(24235,19387,"ide_methods.bas");}while(r);
do{
qbs_set(_SUB_ADDTOHISTORY_STRING_BE,FUNC_READBUFLINE(_SUB_ADDTOHISTORY_INTEGER_BH));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19387,"ide_methods.bas");}while(r);
do{
*_SUB_ADDTOHISTORY_INTEGER_LC=*_SUB_ADDTOHISTORY_INTEGER_LC+ 1 ;
if(!qbevent)break;evnt(24235,19387,"ide_methods.bas");}while(r);
S_59639:;
if ((qbs_cleanup(qbs_tmp_base,(qbs_equal(qbs_ucase(_SUB_ADDTOHISTORY_STRING_BE),_SUB_ADDTOHISTORY_STRING_UE))|(-(*_SUB_ADDTOHISTORY_INTEGER_LC>=*_SUB_ADDTOHISTORY_INTEGER_MX))))||is_error_pending()){
if(qbevent){evnt(24235,19388,"ide_methods.bas");if(r)goto S_59639;}
do{
*_SUB_ADDTOHISTORY_LONG_NUL=FUNC_SEEKBUF(_SUB_ADDTOHISTORY_INTEGER_BH,_SUB_ADDTOHISTORY_LONG_BP,&(pass6658= -21ll ));
if(!qbevent)break;evnt(24235,19389,"ide_methods.bas");}while(r);
do{
SUB_DELETEBUFLINE(_SUB_ADDTOHISTORY_INTEGER_BH);
if(!qbevent)break;evnt(24235,19390,"ide_methods.bas");}while(r);
}
ww_continue_6657:;
}
ww_exit_6657:;
do{
*_SUB_ADDTOHISTORY_LONG_NUL=FUNC_SEEKBUF(_SUB_ADDTOHISTORY_INTEGER_BH,&(pass6659= 0 ),&(pass6660= -22ll ));
if(!qbevent)break;evnt(24235,19395,"ide_methods.bas");}while(r);
do{
SUB_WRITEBUFLINE(_SUB_ADDTOHISTORY_INTEGER_BH,_SUB_ADDTOHISTORY_STRING_E);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,19396,"ide_methods.bas");}while(r);
do{
#include "ret344.txt"
if(!qbevent)break;evnt(24235,19397,"ide_methods.bas");}while(r);
exit_subfunc:;
free_mem_lock(sf_mem_lock);
#include "free344.txt"
if ((tmp_mem_static_pointer>=mem_static)&&(tmp_mem_static_pointer<=mem_static_limit)) mem_static_pointer=tmp_mem_static_pointer; else mem_static_pointer=mem_static;
cmem_sp=tmp_cmem_sp;
}

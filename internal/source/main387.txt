int16 FUNC_OFFERNOPREFIXCONVERSION(qbs*_FUNC_OFFERNOPREFIXCONVERSION_STRING_FILE){
qbs *tqbs;
ptrszint tmp_long;
int32 tmp_fileno;
uint32 qbs_tmp_base=qbs_tmp_list_nexti;
uint8 *tmp_mem_static_pointer=mem_static_pointer;
uint32 tmp_cmem_sp=cmem_sp;
#include "data387.txt"
mem_lock *sf_mem_lock;
new_mem_lock();
sf_mem_lock=mem_lock_tmp;
sf_mem_lock->type=3;
if (is_error_pending()) goto exit_subfunc;
do{
qbs_set(_FUNC_OFFERNOPREFIXCONVERSION_STRING_WHAT,FUNC_IDEYESNOBOX(qbs_new_txt_len("$NOPREFIX",9),qbs_new_txt_len("This program uses the $NOPREFIX directive which is unsupported.\\n\\nQB64PE can automatically convert this file and any included files to\\nremove $NOPREFIX. Backups of all files will be made.\\n\\nConvert this program?",214)));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,108,"ide_converters.bas");}while(r);
S_63169:;
if ((qbs_cleanup(qbs_tmp_base,qbs_notequal(_FUNC_OFFERNOPREFIXCONVERSION_STRING_WHAT,qbs_new_txt_len("Y",1))))||is_error_pending()){
if(qbevent){evnt(24235,109,"ide_converters.bas");if(r)goto S_63169;}
do{
goto exit_subfunc;
if(!qbevent)break;evnt(24235,109,"ide_converters.bas");}while(r);
}
do{
qbg_screen(NULL,NULL, 3 , 0 ,NULL,12);
if(!qbevent)break;evnt(24235,111,"ide_converters.bas");}while(r);
do{
*_FUNC_OFFERNOPREFIXCONVERSION_LONG_DUMMY=FUNC_DARKENFGBG(&(pass7163= 1 ));
if(!qbevent)break;evnt(24235,112,"ide_converters.bas");}while(r);
do{
qbg_sub_color( 15 , 1 ,NULL,NULL,3);
if(!qbevent)break;evnt(24235,113,"ide_converters.bas");}while(r);
do{
sub__printstring( 2 ,*__LONG_IDEWY- 3 ,qbs_new_txt_len("Converting...          ",23),NULL,0);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,114,"ide_converters.bas");}while(r);
do{
sub_pcopy( 3 , 0 );
if(!qbevent)break;evnt(24235,115,"ide_converters.bas");}while(r);
S_63177:;
if ((qbs_cleanup(qbs_tmp_base,func_instr(NULL,func__os(),qbs_new_txt_len("WIN",3),0)))||is_error_pending()){
if(qbevent){evnt(24235,117,"ide_converters.bas");if(r)goto S_63177;}
do{
qbs_set(_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTUTILITY,qbs_new_txt_len("internal\\utilities\\AddPREFIX.exe",32));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,118,"ide_converters.bas");}while(r);
}else{
do{
qbs_set(_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTUTILITY,qbs_new_txt_len("./internal/utilities/AddPREFIX",30));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,120,"ide_converters.bas");}while(r);
}
S_63182:;
if ((qbs_cleanup(qbs_tmp_base,~(func__fileexists(_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTUTILITY))))||is_error_pending()){
if(qbevent){evnt(24235,122,"ide_converters.bas");if(r)goto S_63182;}
S_63183:;
if ((qbs_cleanup(qbs_tmp_base,-(func__direxists(qbs_new_txt_len("./internal/utilities",20))== 0 )))||is_error_pending()){
if(qbevent){evnt(24235,123,"ide_converters.bas");if(r)goto S_63183;}
do{
sub_mkdir(qbs_new_txt_len("./internal/utilities",20));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,123,"ide_converters.bas");}while(r);
}
S_63186:;
if ((qbs_cleanup(qbs_tmp_base,func_instr(NULL,func__os(),qbs_new_txt_len("WIN",3),0)))||is_error_pending()){
if(qbevent){evnt(24235,124,"ide_converters.bas");if(r)goto S_63186;}
do{
sub_shell2(qbs_add(qbs_new_txt_len("qb64pe -x internal/support/converter/AddPREFIX.bas -o ",54),_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTUTILITY),2);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,125,"ide_converters.bas");}while(r);
}else{
do{
sub_shell2(qbs_add(qbs_new_txt_len("./qb64pe -x ./internal/support/converter/AddPREFIX.bas -o ",58),_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTUTILITY),2);
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,127,"ide_converters.bas");}while(r);
}
}
do{
qbs_set(_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTLINE,qbs_add(qbs_add(_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTUTILITY,qbs_new_txt_len(" ",1)),FUNC_QUOTEDFILENAME(_FUNC_OFFERNOPREFIXCONVERSION_STRING_FILE)));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,131,"ide_converters.bas");}while(r);
S_63193:;
if ((qbs_cleanup(qbs_tmp_base,-((-(func__shellhide(_FUNC_OFFERNOPREFIXCONVERSION_STRING_CONVERTLINE)== 0 ))&&(qbs_notequal(FUNC_OPENFILE(_FUNC_OFFERNOPREFIXCONVERSION_STRING_FILE),qbs_new_txt_len("C",1))))))||is_error_pending()){
if(qbevent){evnt(24235,132,"ide_converters.bas");if(r)goto S_63193;}
do{
*_FUNC_OFFERNOPREFIXCONVERSION_INTEGER_OFFERNOPREFIXCONVERSION= -1ll ;
if(!qbevent)break;evnt(24235,133,"ide_converters.bas");}while(r);
}else{
do{
SUB_CLEARSTATUSWINDOW(&(pass7164= 0 ));
if(!qbevent)break;evnt(24235,135,"ide_converters.bas");}while(r);
do{
*_FUNC_OFFERNOPREFIXCONVERSION_LONG_DUMMY=FUNC_DARKENFGBG(&(pass7165= 0 ));
if(!qbevent)break;evnt(24235,136,"ide_converters.bas");}while(r);
do{
sub_pcopy( 3 , 0 );
if(!qbevent)break;evnt(24235,137,"ide_converters.bas");}while(r);
do{
qbg_screen(NULL,NULL, 3 , 0 ,NULL,12);
if(!qbevent)break;evnt(24235,138,"ide_converters.bas");}while(r);
do{
*_FUNC_OFFERNOPREFIXCONVERSION_LONG_RESULT=FUNC_IDEMESSAGEBOX(qbs_new_txt_len("$NOPREFIX",9),qbs_new_txt_len("Error running conversion utility.",33),qbs_new_txt_len("",0));
qbs_cleanup(qbs_tmp_base,0);
if(!qbevent)break;evnt(24235,139,"ide_converters.bas");}while(r);
}
exit_subfunc:;
free_mem_lock(sf_mem_lock);
#include "free387.txt"
if ((tmp_mem_static_pointer>=mem_static)&&(tmp_mem_static_pointer<=mem_static_limit)) mem_static_pointer=tmp_mem_static_pointer; else mem_static_pointer=mem_static;
cmem_sp=tmp_cmem_sp;
return *_FUNC_OFFERNOPREFIXCONVERSION_INTEGER_OFFERNOPREFIXCONVERSION;
}
